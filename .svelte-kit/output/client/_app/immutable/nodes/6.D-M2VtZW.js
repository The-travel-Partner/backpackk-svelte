import{s as c,e as l,c as m,g as f,h as p,i as h,n as s,f as u,w as d}from"../chunks/scheduler.Bt1ZmQP3.js";import{S as g,i as k}from"../chunks/index.BTw-nfef.js";import{g as i}from"../chunks/entry.DkCqfv3R.js";import"../chunks/history.MX8oQUlL.js";/* empty css                    */function y(o){let t,a='<h1 class="text-white text-xl">Loading...</h1>';return{c(){t=l("body"),t.innerHTML=a,this.h()},l(n){t=m(n,"BODY",{class:!0,"data-svelte-h":!0}),f(t)!=="svelte-qnzbwy"&&(t.innerHTML=a),this.h()},h(){p(t,"class","w-full h-screen bg-[#1b1b1b] items-center justify-center")},m(n,e){h(n,t,e)},p:s,i:s,o:s,d(n){n&&u(t)}}}function b(o){localStorage.setItem("authToken",o)}function w(o){localStorage.setItem("name",o)}function _(o){d(()=>{const e=new URLSearchParams(window.location.search).get("token");console.log(typeof e),a(e)});let t={temptoken:""};async function a(n){t.temptoken=n;try{const e=await fetch("https://backpackkfast-fcvonqkgya-el.a.run.app/verifytemp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){const r=await e.json();b(r.access_token),w(r.first_name),i("/parameters/cityname")}}catch(e){console.error("Invalid token",e),i("/login")}}return[]}class L extends g{constructor(t){super(),k(this,t,_,y,c,{})}}export{L as component};
